---
import type { GetStaticPathsResult, InferGetStaticParamsType, InferGetStaticPropsType } from "astro"
import List from "~/components/List.astro"
import Layout from "~/layouts/Layout.astro"
import { getTags } from "~/lib/data"

const tags = await getTags()

export async function getStaticPaths() {
  return tags.map((tag) => ({
    params: { slug: tag.slug },
    props: tag,
  })) satisfies GetStaticPathsResult
}

type Params = InferGetStaticParamsType<typeof getStaticPaths>
type Props = InferGetStaticPropsType<typeof getStaticPaths>

const { slug } = Astro.params
const { color, name } = Astro.props

const tag = tags.find((tag) => tag.slug === slug)

if (!tag) {
  throw Error("aaaa handle 404 here")
}
---

<Layout tag={tag}>
  <List items={[]} />
</Layout>
