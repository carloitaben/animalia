---
import { Sprite } from "astro-icon"
import type { Item } from "~/lib/data"
import Tag from "./Tag.astro"

type Props = {
  item: Item
}

const { item } = Astro.props
const indicatorLabel = "New item"
---

<article id={item.slug}>
  <a href={`#${item.slug}`} class="flex">
    <h4>{item.name}</h4>
    <Sprite
      class="invisible h-5 w-5"
      name="star"
      title={indicatorLabel}
      aria-label={indicatorLabel}
    />
  </a>
  <ul class="flex flex-wrap items-center gap-2">
    {
      item.tags.map((tag) => (
        <li>
          <Tag tag={tag} />
        </li>
      ))
    }
  </ul>
</article>

<script>
  import "~/lib/viewed-items"
</script>
